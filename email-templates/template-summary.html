<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Summary</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333333;
            background-color: #f5f5f5;
            padding: 20px;
        }

        .email-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .email-header {
            background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
            color: #ffffff;
            padding: 30px 20px;
            text-align: center;
        }

        .email-header h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .email-header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin: 15px 0;
        }

        .status-present {
            background-color: #dcfce7;
            color: #166534;
        }

        .status-late {
            background-color: #fef3c7;
            color: #92400e;
        }

        .status-absent {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .email-body {
            padding: 30px 20px;
        }

        .greeting {
            font-size: 16px;
            margin-bottom: 20px;
            color: #1f2937;
        }

        .summary-card {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .summary-card h2 {
            color: #1f2937;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .summary-status {
            font-size: 32px;
            margin: 10px 0;
        }

        .info-card {
            background-color: #f9fafb;
            border-left: 4px solid #7c3aed;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: #6b7280;
            font-size: 14px;
        }

        .info-value {
            color: #1f2937;
            font-size: 14px;
            text-align: right;
        }

        .status-message {
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
        }

        .status-message.present {
            background-color: #dcfce7;
            border: 2px solid #22c55e;
        }

        .status-message.late {
            background-color: #fef3c7;
            border: 2px solid #f59e0b;
        }

        .status-message.absent {
            background-color: #fee2e2;
            border: 2px solid #ef4444;
        }

        .status-message h3 {
            font-size: 18px;
            margin-bottom: 10px;
        }

        .status-message.present h3 {
            color: #166534;
        }

        .status-message.late h3 {
            color: #92400e;
        }

        .status-message.absent h3 {
            color: #991b1b;
        }

        .status-message p {
            font-size: 14px;
            margin: 5px 0;
        }

        .status-message.present p {
            color: #15803d;
        }

        .status-message.late p {
            color: #a16207;
        }

        .status-message.absent p {
            color: #b91c1c;
        }

        .footer-text {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            font-size: 14px;
            color: #6b7280;
        }

        .email-footer {
            background-color: #f9fafb;
            padding: 20px;
            text-align: center;
            font-size: 12px;
            color: #6b7280;
        }

        .email-footer p {
            margin: 5px 0;
        }

        .email-footer strong {
            color: #1f2937;
        }

        @media only screen and (max-width: 600px) {
            body {
                padding: 10px;
            }

            .email-header h1 {
                font-size: 20px;
            }

            .email-body {
                padding: 20px 15px;
            }

            .info-row {
                flex-direction: column;
            }

            .info-value {
                text-align: left;
                margin-top: 5px;
            }
        }
    </style>
</head>

<body>
    <div class="email-container">
        <!-- Header -->
        <div class="email-header">
            <h1>üìä Class Session Summary</h1>
            <p>CICS Attendance System</p>
            <div
                class="status-badge {{#is_present}}status-present{{/is_present}}{{#is_late}}status-late{{/is_late}}{{#is_absent}}status-absent{{/is_absent}}">
                {{attendance_status}}
            </div>
        </div>

        <!-- Body -->
        <div class="email-body">
            <p class="greeting">Dear {{parent_name}},</p>

            <p>Here is the attendance summary for your child's recent class session:</p>

            <!-- Student Info -->
            <div class="summary-card">
                <h2>Student Information</h2>
                <p style="font-size: 18px; font-weight: 600; color: #1f2937; margin: 10px 0;">{{student_name}}</p>
                <p style="font-size: 14px; color: #6b7280;">{{student_id}}</p>
            </div>

            <!-- Class Information -->
            <div class="info-card">
                <div class="info-row">
                    <span class="info-label">Subject</span>
                    <span class="info-value">{{subject_name}} ({{subject_code}})</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Instructor</span>
                    <span class="info-value">{{instructor_name}}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Date</span>
                    <span class="info-value">{{session_date}}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Session Time</span>
                    <span class="info-value">{{session_time}}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Room</span>
                    <span class="info-value">{{room}}</span>
                </div>
            </div>

            <!-- Attendance Status Messages -->
            {{#is_present}}
            <div class="status-message present">
                <div class="summary-status">‚úÖ</div>
                <h3>Your child attended this class</h3>
                <p>Time In: {{time_in}}</p>
                {{#time_out}}<p>Time Out: {{time_out}}</p>{{/time_out}}
            </div>
            {{/is_present}}

            {{#is_late}}
            <div class="status-message late">
                <div class="summary-status">‚ö†Ô∏è</div>
                <h3>Your child was late to this class</h3>
                <p>Time In: {{time_in}}</p>
                {{#time_out}}<p>Time Out: {{time_out}}</p>{{/time_out}}
                <p style="margin-top: 10px;">Please remind your child about the importance of punctuality.</p>
            </div>
            {{/is_late}}

            {{#is_absent}}
            <div class="status-message absent">
                <div class="summary-status">‚ùå</div>
                <h3>Your child was absent from this class</h3>
                <p>No attendance was recorded for this session.</p>
                <p style="margin-top: 10px;">If this was unexpected, please check with your child or contact the
                    instructor.</p>
            </div>
            {{/is_absent}}

            <!-- Footer Text -->
            <p class="footer-text">
                Thank you for staying informed about your child's attendance. Regular attendance is essential for
                academic success. If you have any questions or concerns, please contact the instructor or the CICS
                office.
            </p>
        </div>

        <!-- Footer -->
        <div class="email-footer">
            <p><strong>CICS Attendance System</strong></p>
            <p>Zamboanga Peninsula Polytechnic State University</p>
            <p style="margin-top: 10px; font-size: 11px; color: #9ca3af;">
                This is an automated message. Please do not reply to this email.
            </p>
        </div>
    </div>
</body>

</html>